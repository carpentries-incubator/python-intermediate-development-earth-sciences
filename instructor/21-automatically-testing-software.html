<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Intermediate Research Software Development: Automatically Testing Software</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png"><link rel="manifest" href="../favicons/incubator/site.webmanifest"><link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-info">
          <abbr title="This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#polishing-beta-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-circle" style="border-radius: 5px"></i>
              Beta
            </a>
            <span class="visually-hidden">This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../21-automatically-testing-software.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Intermediate Research Software Development
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Intermediate Research Software Development
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="common-issues.html">Common Issues, Fixes &amp; Tips</a></li><li><a class="dropdown-item" href="databases.html">Additional Material: Databases</a></li><li><a class="dropdown-item" href="geopandas.html">Additional Material: Geopandas</a></li><li><a class="dropdown-item" href="persistence.html">Additional Material: Persistence</a></li><li><a class="dropdown-item" href="protect-main-branch.html">Additional Material: Protecting the Main Branch on a Shared GitHub Repository</a></li><li><a class="dropdown-item" href="quiz.html">Quiz</a></li><li><a class="dropdown-item" href="refactor-1-software-design.html">Refactor 1: Software Design</a></li><li><a class="dropdown-item" href="refactor-2-code-refactoring.html">Refactor 2: Code Refactoring</a></li><li><a class="dropdown-item" href="refactor-3-code-abstractions.html">Refactor 3: Code Abstractions</a></li><li><a class="dropdown-item" href="refactor-4-architecture-revisited.html">Refactor 4: Architecture Revisited: Extending Software</a></li><li><a class="dropdown-item" href="vscode.html">Additional Material: Using Microsoft Visual Studio Code</a></li><hr><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Intermediate Research Software Development
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 25%" class="percentage">
    25%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 25%" aria-valuenow="25" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../21-automatically-testing-software.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-setting-the-scene.html">1. Setting the Scene</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="10-section1-intro.html">2. Section 1: Setting Up Environment For Collaborative Code Development</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="11-software-project.html">3. Introduction to Our Software Project</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="12-virtual-environments.html">4. Virtual Environments For Software Development</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="13-ides.html">5. Integrated Software Development Environments</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="14-collaboration-using-git.html">6. Collaborative Software Development Using Git and GitHub</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="15-coding-conventions.html">7. Python Code Style Conventions</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="16-verifying-code-style-linters.html">8. Verifying Code Style Using Linters</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="20-section2-intro.html">9. Section 2: Ensuring Correctness of Software at Scale</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        10. Automatically Testing Software
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-software-testing">What Is Software Testing?</a></li>
<li><a href="#set-up-a-new-feature-branch-for-writing-tests">Set Up a New Feature Branch for Writing Tests</a></li>
<li><a href="#catchment-data-analysis">Catchment Data Analysis</a></li>
<li><a href="#writing-tests-to-verify-correct-behaviour">Writing Tests to Verify Correct Behaviour</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="22-scaling-up-unit-testing.html">11. Scaling Up Unit Testing</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="23-continuous-integration-automated-testing.html">12. Continuous Integration for Automated Testing</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush14">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading14">
        <a href="24-diagnosing-issues-improving-robustness.html">13. Diagnosing Issues and Improving Robustness</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush15">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading15">
        <a href="30-section3-intro.html">14. Section 3: Software Development as a Process</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush16">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading16">
        <a href="31-software-requirements.html">15. Software Requirements</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush17">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading17">
        <a href="32-software-design.html">16. Software Architecture and Design</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush18">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading18">
        <a href="33-programming-paradigms.html">17. Programming Paradigms</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush19">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading19">
        <a href="34-functional-programming.html">18. Functional Programming</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush20">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading20">
        <a href="35-object-oriented-programming.html">19. Object Oriented Programming</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush21">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading21">
        <a href="36-architecture-revisited.html">20. Architecture Revisited: Extending Software</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush22">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading22">
        <a href="40-section4-intro.html">21. Section 4: Collaborative Software Development for Reuse</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush23">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading23">
        <a href="41-code-review.html">22. Developing Software In a Team: Code Review</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush24">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading24">
        <a href="42-software-reuse.html">23. Preparing Software for Reuse and Release</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush25">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading25">
        <a href="43-software-release.html">24. Packaging Code for Release and Distribution</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush26">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading26">
        <a href="50-section5-intro.html">25. Section 5: Managing and Improving Software Over Its Lifetime</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush27">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading27">
        <a href="51-managing-software.html">26. Managing a Collaborative Software Project</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush28">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading28">
        <a href="52-assessing-software-suitability-improvement.html">27. Assessing Software for Suitability and Improvement</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush29">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading29">
        <a href="53-improvement-through-feedback.html">28. Software Improvement Through Feedback</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush30">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading30">
        <a href="60-wrap-up.html">29. Wrap-up</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="common-issues.html">Common Issues, Fixes &amp; Tips</a></li><li><a href="databases.html">Additional Material: Databases</a></li><li><a href="geopandas.html">Additional Material: Geopandas</a></li><li><a href="persistence.html">Additional Material: Persistence</a></li><li><a href="protect-main-branch.html">Additional Material: Protecting the Main Branch on a Shared GitHub Repository</a></li><li><a href="quiz.html">Quiz</a></li><li><a href="refactor-1-software-design.html">Refactor 1: Software Design</a></li><li><a href="refactor-2-code-refactoring.html">Refactor 2: Code Refactoring</a></li><li><a href="refactor-3-code-abstractions.html">Refactor 3: Code Abstractions</a></li><li><a href="refactor-4-architecture-revisited.html">Refactor 4: Architecture Revisited: Extending Software</a></li><li><a href="vscode.html">Additional Material: Using Microsoft Visual Studio Code</a></li><hr><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/20-section2-intro.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/22-scaling-up-unit-testing.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/20-section2-intro.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Section 2: Ensuring
        </a>
        <a class="chapter-link float-end" href="../instructor/22-scaling-up-unit-testing.html" rel="next">
          Next: Scaling Up Unit...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Automatically Testing Software</h1>
        <p>Last updated on 2024-11-20 |

        <a href="https://github.com/carpentries-incubator/python-intermediate-development-earth-sciences/edit/main/episodes/21-automatically-testing-software.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 50 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>Does the code we develop work the way it should do?</li>
<li>Can we (and others) verify these assertions for themselves?</li>
<li>To what extent are we confident of the accuracy of results that
appear in publications?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Explain the reasons why testing is important</li>
<li>Describe the three main types of tests and what each are used
for</li>
<li>Implement and run unit tests to verify the correct behaviour of
program functions</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>Being able to demonstrate that a process generates the right results
is important in any field of research, whether it’s software generating
those results or not. So when writing software we need to ask ourselves
some key questions:</p>
<ul><li>Does the code we develop work the way it should do?</li>
<li>Can we (and others) verify these assertions for themselves?</li>
<li>Perhaps most importantly, to what extent are we confident of the
accuracy of results that software produces?</li>
</ul><p>If we are unable to demonstrate that our software fulfills these
criteria, why would anyone use it? Having well-defined tests for our
software is useful for this, but manually testing software can prove an
expensive process.</p>
<p>Automation can help, and automation where possible is a good thing -
it enables us to define a potentially complex process in a repeatable
way that is far less prone to error than manual approaches. Once
defined, automation can also save us a lot of effort, particularly in
the long run. In this episode we’ll look into techniques of automated
testing to improve the predictability of a software change, make
development more productive, and help us produce code that works as
expected and produces desired results.</p>
</section><section><h2 class="section-heading" id="what-is-software-testing">What Is Software Testing?<a class="anchor" aria-label="anchor" href="#what-is-software-testing"></a></h2>
<hr class="half-width"><p>For the sake of argument, if each line we write has a 99% chance of
being right, then a 70-line program will be wrong more than half the
time. We need to do better than that, which means we need to test our
software to catch these mistakes.</p>
<p>We can and should extensively test our software manually, and manual
testing is well-suited to testing aspects such as graphical user
interfaces and reconciling visual outputs against inputs. However, even
with a good test plan, manual testing is very time consuming and prone
to error. Another style of testing is automated testing, where we write
code that tests the functions of our software. Since computers are very
good and efficient at automating repetitive tasks, we should take
advantage of this wherever possible.</p>
<p>There are three main types of automated tests:</p>
<ul><li>
<strong>Unit tests</strong> are tests for fairly small and specific
units of functionality, e.g. determining that a particular function
returns output as expected given specific inputs.</li>
<li>
<strong>Functional or integration tests</strong> work at a higher
level, and test functional paths through your code, e.g. given some
specific inputs, a set of interconnected functions across a number of
modules (or the entire code) produce the expected result. These are
particularly useful for exposing faults in how functional units
interact.</li>
<li>
<strong>Regression tests</strong> make sure that your program’s
output hasn’t changed, for example after making changes your code to add
new functionality or fix a bug.</li>
</ul><p>For the purposes of this course, we’ll focus on unit tests. But the
principles and practices we’ll talk about can be built on and applied to
the other types of tests too.</p>
</section><section><h2 class="section-heading" id="set-up-a-new-feature-branch-for-writing-tests">Set Up a New Feature Branch for Writing Tests<a class="anchor" aria-label="anchor" href="#set-up-a-new-feature-branch-for-writing-tests"></a></h2>
<hr class="half-width"><p>We’re going to look at how to run some existing tests and also write
some new ones, so let’s ensure we’re initially on our
<code>develop</code> branch we created earlier. And then, we’ll create a
new feature branch called <code>test-suite</code> off the
<code>develop</code> branch - a common term we use to refer to sets of
tests - that we’ll use for our test writing work:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> git switch develop</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> git switch <span class="at">-c</span> test-suite</span></code></pre>
</div>
<p>Good practice is to write our tests around the same time we write our
code on a feature branch. But since the code already exists, we’re
creating a feature branch for just these extra tests. Git branches are
designed to be lightweight, and where necessary, transient, and use of
branches for even small bits of work is encouraged.</p>
<p>Later on, once we’ve finished writing these tests and are convinced
they work properly, we’ll merge our <code>test-suite</code> branch back
into <code>develop</code>.</p>
</section><section><h2 class="section-heading" id="catchment-data-analysis">Catchment Data Analysis<a class="anchor" aria-label="anchor" href="#catchment-data-analysis"></a></h2>
<hr class="half-width"><p>Let’s go back to our <a href="11-software-project.html">river
catchment software project</a>. Recall that it is based on a measurement
campaign to record and analyse meteorological and hydrological data.
There are a number of datasets in the <code>data</code> directory
recording rainfall and hydrological data across three river catchment
areas. There is one file for rainfall for all three catchments, and one
file for hydrological data for each catchment. Each dataset is stored in
comma-separated values (CSV) format. The first row contains the column
headers, and each subsequent row holds information for a given site at a
given time, as indicated by the values in the <code>Site</code> and
<code>Date</code> columns. The values are a mix of dates, strings, and
numbers, making the processing of the data difficult.</p>
<p>Let’s take a quick look at the data now from within the Python
command line console. Change directory to the repository root (which
should be in your home directory
<code>~/python-intermediate-rivercatchment</code>), ensure you have your
virtual environment activated in your command line terminal
(particularly if opening a new one), and then start the Python console
by invoking the Python interpreter without any parameters, e.g.:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> cd ~/python-intermediate-rivercatchment</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">$</span> source venv/bin/activate</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="ex">$</span> python3</span></code></pre>
</div>
<p>The last command will start the Python console within your shell,
which enables us to execute Python commands interactively. Inside the
console enter the following:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>pd.read_csv(<span class="st">'data/rain_data_2015-12.csv'</span>, usecols<span class="op">=</span>[<span class="st">'Site'</span>, <span class="st">'Date'</span>, <span class="st">'Rainfall (mm)'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      Site              Date  Rainfall (mm)
0     FP35  01/12/2005 00:00            0.0
1     FP35  01/12/2005 00:15            0.0
2     FP35  01/12/2005 00:30            0.0
3     FP35  01/12/2005 00:45            0.0
4     FP35  01/12/2005 01:00            0.0
    ...               ...            ...
5761  PL16  31/12/2005 22:45            0.2
5762  PL16  31/12/2005 23:00            0.0
5763  PL16  31/12/2005 23:15            0.0
5764  PL16  31/12/2005 23:30            0.0
5765  PL16  31/12/2005 23:45            0.0</code></pre>
</div>
<p>The data has been read in using the Panda’s <code>read_csv()</code>
function, where the columns to be read have been specified in the list
<code>['Site', 'Date', 'Rainfall (mm)']</code>. As mentioned above, the
<code>Site</code> and <code>Date</code> columns indicate the location
and time of each measurement. The data itself is stored in the
one-dimensional <code>Rainfall (mm)</code> column. While this format is
convenient for data storage, it is not particularly useful for analysing
the data, and so we must do some preprocessing of the dataset.
Fortunately the code for this has already been prepared for you, in the
<code>read_variable_from_csv()</code> function, available in the
<code>catchment/models.py</code> library. To use this enter the
following in the python console:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">from</span> catchment <span class="im">import</span> models</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>dataset <span class="op">=</span> models.read_variable_from_csv(<span class="st">'data/rain_data_2015-12.csv'</span>)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>dataset.shape</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(2976, 2)</code></pre>
</div>
<p>The data is now two-dimensional, with 2 columns and 2976 rows of
data. We can simply view the data by entering the following in the
python console:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>dataset</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                     FP35  PL16
2005-12-01 00:00:00   0.0   0.0
2005-12-01 00:15:00   0.0   0.0
2005-12-01 00:30:00   0.0   0.0
2005-12-01 00:45:00   0.0   0.0
2005-12-01 01:00:00   0.0   0.0
                   ...   ...
2005-12-31 22:45:00   0.2   0.2
2005-12-31 23:00:00   0.0   0.0
2005-12-31 23:15:00   0.2   0.0
2005-12-31 23:30:00   0.2   0.0
2005-12-31 23:45:00   0.0   0.0</code></pre>
</div>
<p>Each measurement site, <code>FP35</code> and <code>PL16</code>, now
has it’s own column, and the index contains the timestamp for each
measurement, stored as a Pandas <code>DatetimeIndex</code> object (enter
<code>type(dataset.index)</code> into the python console to verify this
for yourselves).</p>
<p>Our catchment study application has a number of statistical
functions, also held in <code>catchment/models.py</code>:
<code>daily_mean()</code>, <code>daily_max()</code>,
<code>daily_min()</code>, and <code>daily_total()</code>, for
calculating the mean average, the maximum, the minimum, and the total
values for each day in our data. For example, the
<code>daily_total()</code> function looks like this:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">def</span> daily_total(data):</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    <span class="co">"""Calculate the daily total of a 2D data array.</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co">    :param data: A 2D Pandas data frame with measurement data.</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co">                 Index must be np.datetime64 compatible format. Columns are measurement sites.</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co">    :returns: A 2D Pandas data frame with total values of the measurements for each day.</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>    <span class="cf">return</span> data.groupby(data.index.date).<span class="bu">sum</span>()</span></code></pre>
</div>
<p>Here, we use the Panda’s dataset built-in <code>groupby()</code>
function, to group the data according to the date (given by the built-in
<code>date()</code> function, which returns only the dates for each
index entry). The total value of each group is calculated using the
built-in <code>sum()</code> function, and returned from the
function.</p>
<p>So that we can clearly show this working with our measurement data,
we will use a small subsample of two hours of measurements from near the
start of our dataset, across midnight of the 1st December 2005. This
sample has been stored in a separate datafile, and can be loaded in the
same manner as the main dataset:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>sample_dataset <span class="op">=</span> models.read_variable_from_csv(<span class="st">'data/rain_data_small.csv'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>sample_dataset</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                     FP35  PL16
2005-12-01 23:00:00   0.0   0.4
2005-12-01 23:15:00   0.0   0.4
2005-12-01 23:30:00   0.0   0.4
2005-12-01 23:45:00   0.0   0.6
2005-12-02 00:00:00   0.2   0.2
2005-12-02 00:15:00   0.0   0.4
2005-12-02 00:30:00   0.0   0.8
2005-12-02 00:45:00   0.2   0.6</code></pre>
</div>
<p>This data can be passed to the function by entering the following
lines in the python console:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="im">from</span> catchment.models <span class="im">import</span> daily_total</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>daily_total(sample_dataset)</span></code></pre>
</div>
<p>Note we use a different form of <code>import</code> here - only
importing the <code>daily_total</code> function from our
<code>models</code> module instead of everything. This also has the
effect that we can refer to the function using only its name, without
needing to include the module name too
(i.e. <code>models.daily_total()</code>).</p>
<p>The above code will return the mean rainfall for each day across each
hour (labelled according to the day each is in), as another Pandas
dataframe:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>            FP35  PL16
2005-12-01   0.0   1.8
2005-12-02   0.4   2.0</code></pre>
</div>
<p>The other statistical functions are similar. Note that in real
situations functions we write are often likely to be more complicated
than these, but simplicity here allows us to reason about what’s
happening - and what we need to test - more easily.</p>
<p>Let’s now look into how we can test each of our application’s
statistical functions to ensure they are functioning correctly.</p>
</section><section><h2 class="section-heading" id="writing-tests-to-verify-correct-behaviour">Writing Tests to Verify Correct Behaviour<a class="anchor" aria-label="anchor" href="#writing-tests-to-verify-correct-behaviour"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="testing-basics">Testing Basics<a class="anchor" aria-label="anchor" href="#testing-basics"></a></h3>
<p>The principle method for testing our functions is to write a series
of checks or tests, each executing a function we want to test with known
inputs against known valid results, and throw an error if we encounter a
result that is incorrect. To help with this process both the NumPy and
Pandas libraries provide testing functions, which we will make use of
here.</p>
<p>Working with only real data for testing is limiting though, so we
will instead create artificial inputs for our tests. For example, we
will test the <code>daily_mean()</code> function, using
<code>[[1.0, 2.0], [3.0, 4.0], [5.0, 6.0]]</code> as an input to that
function and check whether the result equals
<code>[3.0, 4.0]</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="im">import</span> pandas.testing <span class="im">as</span> pdt</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="im">from</span> catchment.models <span class="im">import</span> daily_mean</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>                data<span class="op">=</span>[[<span class="fl">1.0</span>, <span class="fl">2.0</span>],</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>                      [<span class="fl">3.0</span>, <span class="fl">4.0</span>],</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>                      [<span class="fl">5.0</span>, <span class="fl">6.0</span>]],</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>                index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>),</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 03:00'</span>)],</span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>                columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>)</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>                 data<span class="op">=</span>[[<span class="fl">3.0</span>, <span class="fl">4.0</span>]],</span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>                 index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>                 columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a>)</span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a>pdt.assert_frame_equal(daily_mean(test_input), test_result)</span></code></pre>
</div>
<p>So we use the <code>assert_frame_equal()</code> function - part of
Panda’s testing library - to test that our calculated result is the same
as our expected result. This function explicitly checks the frame’s
shape and elements are the same, as well as the index and column values,
and throws an <code>AssertionError</code> if they are not (and, it
should be noted, returns nothing if they are). In particular, note that
we can’t just use <code>==</code> or other Python equality methods,
since these won’t work properly with NumPy-based arrays in all
cases.</p>
<p>We could then add to this with other tests that use and test against
other values, and end up with something like:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="im">import</span> pandas.testing <span class="im">as</span> pdt</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="im">from</span> catchment.models <span class="im">import</span> daily_mean</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>                data<span class="op">=</span>[[<span class="fl">2.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>                      [<span class="fl">4.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>                index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>)],</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>                columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a>)</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>                 data<span class="op">=</span>[[<span class="fl">2.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a>                 index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a>                 columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>)</span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a>pdt.assert_frame_equal(daily_mean(test_input), test_result)</span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a>test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a>                data<span class="op">=</span>[[<span class="fl">0.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a>                      [<span class="fl">0.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a>                index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>)],</span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a>                columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a>)</span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a>test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb15-28"><a href="#cb15-28" tabindex="-1"></a>                 data<span class="op">=</span>[[<span class="fl">0.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb15-29"><a href="#cb15-29" tabindex="-1"></a>                 index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb15-30"><a href="#cb15-30" tabindex="-1"></a>                 columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb15-31"><a href="#cb15-31" tabindex="-1"></a>)</span>
<span id="cb15-32"><a href="#cb15-32" tabindex="-1"></a>pdt.assert_frame_equal(daily_mean(test_input), test_result)</span>
<span id="cb15-33"><a href="#cb15-33" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" tabindex="-1"></a>test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb15-35"><a href="#cb15-35" tabindex="-1"></a>                data<span class="op">=</span>[[<span class="fl">1.0</span>, <span class="fl">2.0</span>],</span>
<span id="cb15-36"><a href="#cb15-36" tabindex="-1"></a>                      [<span class="fl">3.0</span>, <span class="fl">4.0</span>],</span>
<span id="cb15-37"><a href="#cb15-37" tabindex="-1"></a>                      [<span class="fl">5.0</span>, <span class="fl">6.0</span>]],</span>
<span id="cb15-38"><a href="#cb15-38" tabindex="-1"></a>                index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb15-39"><a href="#cb15-39" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>),</span>
<span id="cb15-40"><a href="#cb15-40" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 03:00'</span>)],</span>
<span id="cb15-41"><a href="#cb15-41" tabindex="-1"></a>                columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb15-42"><a href="#cb15-42" tabindex="-1"></a>)</span>
<span id="cb15-43"><a href="#cb15-43" tabindex="-1"></a>test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb15-44"><a href="#cb15-44" tabindex="-1"></a>                 data<span class="op">=</span>[[<span class="fl">3.0</span>, <span class="fl">4.0</span>]],</span>
<span id="cb15-45"><a href="#cb15-45" tabindex="-1"></a>                 index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb15-46"><a href="#cb15-46" tabindex="-1"></a>                 columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb15-47"><a href="#cb15-47" tabindex="-1"></a>)</span>
<span id="cb15-48"><a href="#cb15-48" tabindex="-1"></a>pdt.assert_frame_equal(daily_mean(test_input), test_result)</span></code></pre>
</div>
<p>However, if we were to enter these in this order, we’ll find we get
the following after the first test:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>...
AssertionError: DataFrame.iloc[:, 0] (column name="A") are different

DataFrame.iloc[:, 0] (column name="A") values are different (100.0 %)
[index]: [2000-01-01]
[left]:  [3.0]
[right]: [2.0]</code></pre>
</div>
<p>This tells us that one element between our generated and expected
arrays doesn’t match, and shows us the different values, and the indices
to locate these.</p>
<p>We could put these tests in a separate script to automate the running
of these tests. But a Python script halts at the first failed assertion,
so the second and third tests aren’t run at all. It would be more
helpful if we could get data from all of our tests every time they’re
run, since the more information we have, the faster we’re likely to be
able to track down bugs. It would also be helpful to have some kind of
summary report: if our set of tests - known as a <strong>test
suite</strong> - includes thirty or forty tests (as it well might for a
complex function or library that’s widely used), we’d like to know how
many passed or failed.</p>
<p>Going back to our failed first test, what was the issue? As it turns
out, the test itself was incorrect, and should have read:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>                data<span class="op">=</span>[[<span class="fl">2.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>                      [<span class="fl">4.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>                index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>                       pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>)],</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>                columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>)</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>                 data<span class="op">=</span>[[<span class="fl">3.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a>                 index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>                 columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>)</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a>pdt.assert_frame_equal(daily_mean(test_input), test_result)</span></code></pre>
</div>
<p>Which highlights an important point: as well as making sure our code
is returning correct answers, we also need to ensure the tests
themselves are also correct. Otherwise, we may go on to fix our code
only to return an incorrect result that <em>appears</em> to be correct.
So a good rule is to make tests simple enough to understand so we can
reason about both the correctness of our tests as well as our code.
Otherwise, our tests hold little value.</p>
</div>
<div class="section level3">
<h3 id="using-a-testing-framework">Using a Testing Framework<a class="anchor" aria-label="anchor" href="#using-a-testing-framework"></a></h3>
<p>Keeping these things in mind, here’s a different approach that builds
on the ideas we’ve seen so far but uses a <strong>unit testing
framework</strong>. In such a framework we define our tests we want to
run as functions, and the framework automatically runs each of these
functions in turn, summarising the outputs. And unlike our previous
approach, it will run every test regardless of any encountered test
failures.</p>
<p>Most people don’t enjoy writing tests, so if we want them to actually
do it, it must be easy to:</p>
<ul><li>Add or change tests,</li>
<li>Understand the tests that have already been written,</li>
<li>Run those tests, and</li>
<li>Understand those tests’ results</li>
</ul><p>Test results must also be reliable. If a testing tool says that code
is working when it’s not, or reports problems when there actually aren’t
any, people will lose faith in it and stop using it.</p>
<p>Look at <code>tests/test_models.py</code>:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co">"""Tests for statistics functions within the Model layer."""</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="im">import</span> pandas.testing <span class="im">as</span> pdt</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="kw">def</span> test_daily_mean_zeros():</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>    <span class="co">"""Test that mean function works for an array of zeros."""</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>    <span class="im">from</span> catchment.models <span class="im">import</span> daily_mean</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>    test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>                     data<span class="op">=</span>[[<span class="fl">0.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a>                           [<span class="fl">0.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a>                           [<span class="fl">0.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a>                     index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a>                            pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>),</span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a>                            pd.to_datetime(<span class="st">'2000-01-01 03:00'</span>)],</span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a>                     columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a>    )</span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a>    test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a>                     data<span class="op">=</span>[[<span class="fl">0.0</span>, <span class="fl">0.0</span>]],</span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a>                     index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a>                     columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a>    )</span>
<span id="cb18-25"><a href="#cb18-25" tabindex="-1"></a></span>
<span id="cb18-26"><a href="#cb18-26" tabindex="-1"></a>    <span class="co"># Need to use Pandas testing functions to compare arrays</span></span>
<span id="cb18-27"><a href="#cb18-27" tabindex="-1"></a>    pdt.assert_frame_equal(daily_mean(test_input), test_result)</span>
<span id="cb18-28"><a href="#cb18-28" tabindex="-1"></a></span>
<span id="cb18-29"><a href="#cb18-29" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" tabindex="-1"></a><span class="kw">def</span> test_daily_mean_integers():</span>
<span id="cb18-31"><a href="#cb18-31" tabindex="-1"></a>    <span class="co">"""Test that mean function works for an array of positive integers."""</span></span>
<span id="cb18-32"><a href="#cb18-32" tabindex="-1"></a>    <span class="im">from</span> catchment.models <span class="im">import</span> daily_mean</span>
<span id="cb18-33"><a href="#cb18-33" tabindex="-1"></a></span>
<span id="cb18-34"><a href="#cb18-34" tabindex="-1"></a>    test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb18-35"><a href="#cb18-35" tabindex="-1"></a>                     data<span class="op">=</span>[[<span class="fl">1.0</span>, <span class="fl">2.0</span>],</span>
<span id="cb18-36"><a href="#cb18-36" tabindex="-1"></a>                           [<span class="fl">3.0</span>, <span class="fl">4.0</span>],</span>
<span id="cb18-37"><a href="#cb18-37" tabindex="-1"></a>                           [<span class="fl">5.0</span>, <span class="fl">6.0</span>]],</span>
<span id="cb18-38"><a href="#cb18-38" tabindex="-1"></a>                     index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb18-39"><a href="#cb18-39" tabindex="-1"></a>                            pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>),</span>
<span id="cb18-40"><a href="#cb18-40" tabindex="-1"></a>                            pd.to_datetime(<span class="st">'2000-01-01 03:00'</span>)],</span>
<span id="cb18-41"><a href="#cb18-41" tabindex="-1"></a>                     columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb18-42"><a href="#cb18-42" tabindex="-1"></a>    )</span>
<span id="cb18-43"><a href="#cb18-43" tabindex="-1"></a>    test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb18-44"><a href="#cb18-44" tabindex="-1"></a>                     data<span class="op">=</span>[[<span class="fl">3.0</span>, <span class="fl">4.0</span>]],</span>
<span id="cb18-45"><a href="#cb18-45" tabindex="-1"></a>                     index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb18-46"><a href="#cb18-46" tabindex="-1"></a>                     columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>]</span>
<span id="cb18-47"><a href="#cb18-47" tabindex="-1"></a>    )</span>
<span id="cb18-48"><a href="#cb18-48" tabindex="-1"></a></span>
<span id="cb18-49"><a href="#cb18-49" tabindex="-1"></a>    <span class="co"># Need to use Pandas testing functions to compare arrays</span></span>
<span id="cb18-50"><a href="#cb18-50" tabindex="-1"></a>    pdt.assert_frame_equal(daily_mean(test_input), test_result)</span>
<span id="cb18-51"><a href="#cb18-51" tabindex="-1"></a>...</span></code></pre>
</div>
<p>Here, although we have specified two of our previous manual tests as
separate functions, they run the same assertions. Each of these test
functions, in a general sense, are called <strong>test cases</strong> -
these are a specification of:</p>
<ul><li>Inputs, e.g. the <code>test_input</code> Pandas dataframe</li>
<li>Execution conditions - what we need to do to set up the testing
environment to run our test, e.g. importing the
<code>daily_mean()</code> function so we can use it. Note that for
clarity of testing environment, we only import the necessary library
function we want to test within each test function</li>
<li>Testing procedure, e.g. running <code>daily_mean()</code> with our
<code>test_input</code> array and using
<code>assert_frame_equal()</code> to test its validity</li>
<li>Expected outputs, e.g. our <code>test_result</code> Pandas dataframe
that we test against</li>
</ul><p>Also, we’re defining each of these things for a test case we can run
independently that requires no manual intervention.</p>
<p>Going back to our list of requirements, how easy is it to run these
tests? We can do this using a Python package called <code>pytest</code>.
Pytest is a testing framework that allows you to write test cases using
Python. You can use it to test things like Python functions, database
operations, or even things like service APIs - essentially anything that
has inputs and expected outputs. We’ll be using Pytest to write unit
tests, but what you learn can scale to more complex functional testing
for applications or libraries.</p>
<div id="what-about-unit-testing-in-other-languages" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="what-about-unit-testing-in-other-languages" class="callout-inner">
<h3 class="callout-title">What About Unit Testing in Other Languages?</h3>
<div class="callout-content">
<p>Other unit testing frameworks exist for Python, including Nose2 and
Unittest, and the approach to unit testing can be translated to other
languages as well, e.g. pFUnit for Fortran, JUnit for Java (the original
unit testing framework), Catch or gtest for C++, etc.</p>
</div>
</div>
</div>
<div id="why-use-pytest-over-unittest" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-use-pytest-over-unittest" class="callout-inner">
<h3 class="callout-title">Why Use pytest over unittest?</h3>
<div class="callout-content">
<p>We could alternatively use another Python unit test framework, <a href="https://docs.python.org/3/library/unittest.html" class="external-link">unittest</a>,
which has the advantage of being installed by default as part of Python.
This is certainly a solid and established option, however <a href="https://realpython.com/pytest-python-testing/#what-makes-pytest-so-useful" class="external-link">pytest
has many distinct advantages</a>, particularly for learning,
including:</p>
<ul><li>unittest requires additional knowledge of object-oriented frameworks
(covered later in the course) to write unit tests, whereas in pytest
these are written in simpler functions so is easier to learn</li>
<li>Being written using simpler functions, pytest’s scripts are more
concise and contain less boilerplate, and thus are easier to read</li>
<li>pytest output, particularly in regard to test failure output, is
generally considered more helpful and readable</li>
<li>pytest has a vast ecosystem of plugins available if ever you need
additional testing functionality</li>
<li>unittest-style unit tests can be run from pytest out of the
box!</li>
</ul><p>A common challenge, particularly at the intermediate level, is the
selection of a suitable tool from many alternatives for a given task.
Once you’ve become accustomed to object-oriented programming you may
find unittest a better fit for a particular project or team, so you may
want to revisit it at a later date.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="installing-pytest">Installing Pytest<a class="anchor" aria-label="anchor" href="#installing-pytest"></a></h3>
<p>If you have already installed <code>pytest</code> package in your
virtual environment, you can skip this step. Otherwise, as we have seen,
we have a couple of options for installing external libraries:</p>
<ol style="list-style-type: decimal"><li>via VS Code (see <a href="13-ides.html">“Adding an External
Library”</a> section in <a href="13-ides.html">“Integrated Software
Development Environments”</a> episode), or</li>
<li>via the command line (see <a href="12-virtual-environments.html">“Installing External Libraries in an
Environment With <code>pip</code>”</a> section in <a href="12-virtual-environments.html">“Virtual Environments For Software
Development”</a> episode).</li>
</ol><p>To do it via the command line - exit the Python console first (either
with <code>Ctrl-D</code> or by typing <code>exit()</code>), then do:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> python3 <span class="at">-m</span> pip install pytest</span></code></pre>
</div>
<p>Whether we do this via VS Code or the command line, the results are
exactly the same: our virtual environment will now have the
<code>pytest</code> package installed for use.</p>
</div>
<div class="section level3">
<h3 id="running-tests">Running Tests<a class="anchor" aria-label="anchor" href="#running-tests"></a></h3>
<p>Now we can run these tests using <code>pytest</code>:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> python3 <span class="at">-m</span> pytest tests/test_models.py</span></code></pre>
</div>
<p>Here, we use <code>-m</code> flag of the <code>python3</code> command
to invoke the <code>pytest</code> module, and specify the
<code>tests/test_models.py</code> file to run the tests in that file
explicitly.</p>
<div id="why-run-pytest-using-python3--m-pytest-and-not-pytest" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-run-pytest-using-python3--m-pytest-and-not-pytest" class="callout-inner">
<h3 class="callout-title">Why Run Pytest Using
<code>python3 -m pytest</code> and Not <code>pytest</code>?</h3>
<div class="callout-content">
<p><code>pytest</code> is another Python module that can be run via its
own command but this is a good example why invoking Python modules via
<code>python3 -m</code> may be better (recall the <a href="12-virtual-environments.html">explanation of Python interpreter’s
<code>-m</code> flag</a>). Had we used
<code>pytest tests/test_models.py</code> command directly, this would
have led to a “ModuleNotFoundError: No module named ‘catchment’” error.
This is because <code>pytest</code> command (unlike
<code>python3 -m pytest</code>) does not add the current directory to
its list of directories to search for modules, hence the
<code>catchment</code> subdirectory’s contents are not being ‘seen’ by
<code>pytest</code> causing the <code>ModuleNotFoundError</code>. There
are ways to work around this problem but <code>python3 -m pytest</code>
ensures it does not happen in the first place.</p>
</div>
</div>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>============================================== test session starts =====================================================
platform darwin -- Python 3.11.4, pytest-7.4.3, pluggy-1.3.0
rootdir: /Users/alex/python-intermediate-rivercatchment
plugins: anyio-3.3.4
collected 2 items

tests/test_models.py ..                                                                       [100%]

=============================================== 2 passed in 0.79s ==================================</code></pre>
</div>
<p>Pytest looks for functions whose names also start with the letters
‘test_’ and runs each one. Notice the <code>..</code> after our test
script:</p>
<ul><li>If the function completes without an assertion being triggered, we
count the test as a success (indicated as <code>.</code>).</li>
<li>If an assertion fails, or we encounter an error, we count the test
as a failure (indicated as <code>F</code>). The error is included in the
output so we can see what went wrong.</li>
</ul><p>So if we have many tests, we essentially get a report indicating
which tests succeeded or failed. Going back to our list of requirements
(the bullet points under <a href="#using-a-testing-framework">Using a
Testing Framework</a> section), do we think these results are easy to
understand?</p>
<div id="exercise-write-some-unit-tests" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-write-some-unit-tests" class="callout-inner">
<h3 class="callout-title">Exercise: Write Some Unit Tests</h3>
<div class="callout-content">
<p>We already have a couple of test cases in
<code>test/test_models.py</code> that test the <code>daily_mean()</code>
function. Looking at <code>catchment/models.py</code>, write at least
two new test cases that test the <code>daily_max()</code> and
<code>daily_min()</code> functions, adding them to
<code>test/test_models.py</code>. Here are some hints:</p>
<ul><li>You could choose to format your functions very similarly to
<code>daily_mean()</code>, defining test input and expected result
arrays followed by the equality assertion.</li>
<li>Try to choose cases that are suitably different, and remember that
these functions take a 2D array and return a 1D array with each element
the result of analysing each <em>column</em> of the data.</li>
</ul><p>Once added, run all the tests again with
<code>python -m pytest tests/test_models.py</code>, and you should also
see your new tests pass.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>...</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="kw">def</span> test_daily_max():</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>    <span class="co">"""Test that max function works for an array of positive integers."""</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>    <span class="im">from</span> catchment.models <span class="im">import</span> daily_max</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>    test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>                      data<span class="op">=</span>[[<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>],</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>                            [<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">2</span>],</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a>                            [<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">9</span>]],</span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>                      index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>                             pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>),</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>                             pd.to_datetime(<span class="st">'2000-01-01 03:00'</span>)],</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>                      columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>]</span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a>    )</span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a>    test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a>                      data<span class="op">=</span>[[<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">9</span>]],</span>
<span id="cb22-17"><a href="#cb22-17" tabindex="-1"></a>                      index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb22-18"><a href="#cb22-18" tabindex="-1"></a>                      columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>]</span>
<span id="cb22-19"><a href="#cb22-19" tabindex="-1"></a>    )</span>
<span id="cb22-20"><a href="#cb22-20" tabindex="-1"></a></span>
<span id="cb22-21"><a href="#cb22-21" tabindex="-1"></a>    pdt.assert_frame_equal(daily_max(test_input), test_result)</span>
<span id="cb22-22"><a href="#cb22-22" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" tabindex="-1"></a><span class="kw">def</span> test_daily_min():</span>
<span id="cb22-25"><a href="#cb22-25" tabindex="-1"></a>    <span class="co">"""Test that min function works for an array of positive and negative integers."""</span></span>
<span id="cb22-26"><a href="#cb22-26" tabindex="-1"></a>    <span class="im">from</span> catchment.models <span class="im">import</span> daily_min</span>
<span id="cb22-27"><a href="#cb22-27" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" tabindex="-1"></a>    test_input <span class="op">=</span> pd.DataFrame(</span>
<span id="cb22-29"><a href="#cb22-29" tabindex="-1"></a>                      data<span class="op">=</span>[[ <span class="dv">4</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">5</span>],</span>
<span id="cb22-30"><a href="#cb22-30" tabindex="-1"></a>                            [ <span class="dv">1</span>, <span class="op">-</span><span class="dv">6</span>, <span class="dv">2</span>],</span>
<span id="cb22-31"><a href="#cb22-31" tabindex="-1"></a>                            [<span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">9</span>]],</span>
<span id="cb22-32"><a href="#cb22-32" tabindex="-1"></a>                      index<span class="op">=</span>[pd.to_datetime(<span class="st">'2000-01-01 01:00'</span>),</span>
<span id="cb22-33"><a href="#cb22-33" tabindex="-1"></a>                             pd.to_datetime(<span class="st">'2000-01-01 02:00'</span>),</span>
<span id="cb22-34"><a href="#cb22-34" tabindex="-1"></a>                             pd.to_datetime(<span class="st">'2000-01-01 03:00'</span>)],</span>
<span id="cb22-35"><a href="#cb22-35" tabindex="-1"></a>                      columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>]</span>
<span id="cb22-36"><a href="#cb22-36" tabindex="-1"></a>    )</span>
<span id="cb22-37"><a href="#cb22-37" tabindex="-1"></a>    test_result <span class="op">=</span> pd.DataFrame(</span>
<span id="cb22-38"><a href="#cb22-38" tabindex="-1"></a>                      data<span class="op">=</span>[[<span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">6</span>, <span class="dv">2</span>]],</span>
<span id="cb22-39"><a href="#cb22-39" tabindex="-1"></a>                      index<span class="op">=</span>[datetime.date(<span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">1</span>)],</span>
<span id="cb22-40"><a href="#cb22-40" tabindex="-1"></a>                      columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>]</span>
<span id="cb22-41"><a href="#cb22-41" tabindex="-1"></a>    )</span>
<span id="cb22-42"><a href="#cb22-42" tabindex="-1"></a></span>
<span id="cb22-43"><a href="#cb22-43" tabindex="-1"></a>    pdt.assert_frame_equal(daily_min(test_input), test_result)</span>
<span id="cb22-44"><a href="#cb22-44" tabindex="-1"></a>...</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The big advantage is that as our code develops we can update our test
cases and commit them back, ensuring that ourselves (and others) always
have a set of tests to verify our code at each step of development. This
way, when we implement a new feature, we can check a) that the feature
works using a test we write for it, and b) that the development of the
new feature doesn’t break any existing functionality.</p>
</div>
<div class="section level3">
<h3 id="what-about-testing-for-errors">What About Testing for Errors?<a class="anchor" aria-label="anchor" href="#what-about-testing-for-errors"></a></h3>
<p>There are some cases where seeing an error is actually the correct
behaviour, and Python allows us to test for exceptions. Add this test in
<code>tests/test_models.py</code>:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>...</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="kw">def</span> test_daily_min_python_list():</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>    <span class="co">"""Test for AttributeError when passing a python list"""</span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a>    <span class="im">from</span> catchment.models <span class="im">import</span> daily_min</span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a>    <span class="cf">with</span> pytest.raises(<span class="pp">AttributeError</span>):</span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a>        error_expected <span class="op">=</span> daily_min([[<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">7</span>],[<span class="op">-</span><span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">5</span>]])</span></code></pre>
</div>
<p>Note that you need to import the <code>pytest</code> library at the
top of our <code>test_models.py</code> file with
<code>import pytest</code> so that we can use <code>pytest</code>’s
<code>raises()</code> function.</p>
<p>Run all your tests as before.</p>
<p>Since we’ve installed <code>pytest</code> to our environment, we
should also regenerate our <code>requirements.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> python3 <span class="at">-m</span> pip freeze <span class="op">&gt;</span> requirements.txt</span></code></pre>
</div>
<p>Finally, let’s commit our new <code>test_models.py</code> file,
<code>requirements.txt</code> file, and test cases to our
<code>test-suite</code> branch, and push this new branch and all its
commits to GitHub:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> git add requirements.txt tests/test_models.py</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add initial test cases for daily_max() and daily_min()"</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="ex">$</span> git push <span class="at">-u</span> origin test-suite</span></code></pre>
</div>
<div id="why-should-we-test-invalid-input-data" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-should-we-test-invalid-input-data" class="callout-inner">
<h3 class="callout-title">Why Should We Test Invalid Input Data?</h3>
<div class="callout-content">
<p>Testing the behaviour of inputs, both valid and invalid, is a really
good idea and is known as <em>data validation</em>. Even if you are
developing command line software that cannot be exploited by malicious
data entry, testing behaviour against invalid inputs prevents generation
of erroneous results that could lead to serious misinterpretation (as
well as saving time and compute cycles which may be expensive for
longer-running applications). It is generally best not to assume your
user’s inputs will always be rational.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>The three main types of automated tests are <strong>unit
tests</strong>, <strong>functional tests</strong> and <strong>regression
tests</strong>.</li>
<li>We can write unit tests to verify that functions generate expected
output given a set of specific inputs.</li>
<li>It should be easy to add or change tests, understand and run them,
and understand their results.</li>
<li>We can use a unit testing framework like Pytest to structure and
simplify the writing of tests in Python.</li>
<li>We should test for expected errors in our code.</li>
<li>Testing program behaviour against both valid and invalid inputs is
important and is known as <strong>data validation</strong>.</li>
</ul></div>
</div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/20-section2-intro.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/22-scaling-up-unit-testing.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/20-section2-intro.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Section 2: Ensuring
        </a>
        <a class="chapter-link float-end" href="../instructor/22-scaling-up-unit-testing.html" rel="next">
          Next: Scaling Up Unit...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/python-intermediate-development-earth-sciences/edit/main/episodes/21-automatically-testing-software.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/python-intermediate-development-earth-sciences/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/python-intermediate-development-earth-sciences/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/python-intermediate-development-earth-sciences/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:info@software.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/python-intermediate-development-earth-sciences/instructor/21-automatically-testing-software.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Automatically Testing Software",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/python-intermediate-development-earth-sciences/instructor/21-automatically-testing-software.html",
  "identifier": "https://carpentries-incubator.github.io/python-intermediate-development-earth-sciences/instructor/21-automatically-testing-software.html",
  "dateCreated": "2020-04-23",
  "dateModified": "2024-11-20",
  "datePublished": "2024-11-20"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

